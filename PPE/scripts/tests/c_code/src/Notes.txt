// Parallelise this!! 

int particles[100]; // let them all be 1
int array[100][100] = {0}; // initalise all to 0
int brray[100] = {0}; // initalise all to 0

for (int i = 0; i<100; i++) {
    // do something
    for (int j = 0; j<100; j++)
    {
        if (i!=j)
            {
            array[i][j] = particles[i] + particles[j];
            brray[i] = brray[i] + array[i][j];
            }

    }
    array[i][i] = // sum all elements in row i

}